---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fmc_access_rules Resource - terraform-provider-fmc"
subcategory: ""
description: |-
  Resource for Access Rules in FMC
  Example
  An example is shown below:
  ```hcl
  resource "fmcaccessrules" "accessrule1" {
      acp = fmcaccesspolicies.accesspolicy.id
      section = "mandatory"
      name = "Test rule 1"
      action = "allow"
      enabled = true
      enablesyslog = true
      syslogseverity = "alert"
      sendeventstofmc = true
      logfiles = false
      logend = true
      sourcezones {
          sourcezone {
              id = data.fmcsecurityzones.inside.id
              type =  data.fmcsecurityzones.inside.type
          }
          sourcezone {
              id = data.fmcsecurityzones.outside.id
              type =  data.fmcsecurityzones.outside.type
          }
      }
      destinationzones {
          destinationzone {
              id = data.fmcsecurityzones.outside.id
              type =  data.fmcsecurityzones.outside.type
          }
      }
      sourcenetworks {
          sourcenetwork {
              id = data.fmcnetworkobjects.source.id
              type =  data.fmcnetworkobjects.source.type
          }
      }
      destinationnetworks {
          destinationnetwork {
              id = data.fmcnetworkobjects.dest.id
              type =  data.fmcnetworkobjects.dest.type
          }
      }
      destinationports {
          destinationport {
              id = data.fmcportobjects.http.id
              type =  data.fmcportobjects.http.type
          }
      }
      urls {
          url {
              id = fmcurlobjects.desturl.id
              type = "Url"
          }
      }
      ipspolicy = data.fmcipspolicies.ipspolicy.id
      syslogconfig = data.fmcsyslogalerts.syslogalert.id
      new_comments = [ "New", "comment" ]
  }
  resource "fmcaccessrules" "accessrule2" {
      acp = fmcaccesspolicies.accesspolicy.id
      section = "mandatory"
      insertbefore = 1 # Wont work as assumed since terraform does not
      name = "Test rule 2"
      action = "allow"
      enabled = true
      enablesyslog = true
      syslogseverity = "alert"
      sendeventstofmc = true
      logfiles = false
      logend = true
      sourcezones {
          sourcezone {
              id = data.fmcsecurityzones.inside.id
              type =  data.fmcsecurityzones.inside.type
          }
          # sourcezone {
          #     id = data.fmcsecurityzones.outside.id
          #     type =  data.fmcsecurityzones.outside.type
          # }
      }
      destinationzones {
          destinationzone {
              id = data.fmcsecurityzones.outside.id
              type =  data.fmcsecurityzones.outside.type
          }
      }
      sourcenetworks {
          sourcenetwork {
              id = data.fmcnetworkobjects.source.id
              type =  data.fmcnetworkobjects.source.type
          }
      }
      destinationnetworks {
          destinationnetwork {
              id = data.fmcnetworkobjects.dest.id
              type =  data.fmcnetworkobjects.dest.type
          }
      }
      destinationports {
          destinationport {
              id = data.fmcportobjects.http.id
              type =  data.fmcportobjects.http.type
          }
      }
      urls {
          url {
              id = fmcurlobjects.desturl.id
              type = "Url"
          }
      }
      ipspolicy = data.fmcipspolicies.ipspolicy.id
      syslogconfig = data.fmcsyslogalerts.syslogalert.id
      newcomments = [ "New comment" ]
      dependson = [
          fmcaccessrules.accessrule1
      ]
  }
  ``
  **Note** If creating multiple rules during a singleterraform apply, remember to usedependson` to chain the rules so that terraform creates it in the same order that you intended.
---

# fmc_access_rules (Resource)

Resource for Access Rules in FMC

## Example
An example is shown below: 
```hcl
resource "fmc_access_rules" "access_rule_1" {
    acp = fmc_access_policies.access_policy.id
    section = "mandatory"
    name = "Test rule 1"
    action = "allow"
    enabled = true
    enable_syslog = true
    syslog_severity = "alert"
    send_events_to_fmc = true
    log_files = false
    log_end = true
    source_zones {
        source_zone {
            id = data.fmc_security_zones.inside.id
            type =  data.fmc_security_zones.inside.type
        }
        source_zone {
            id = data.fmc_security_zones.outside.id
            type =  data.fmc_security_zones.outside.type
        }
    }
    destination_zones {
        destination_zone {
            id = data.fmc_security_zones.outside.id
            type =  data.fmc_security_zones.outside.type
        }
    }
    source_networks {
        source_network {
            id = data.fmc_network_objects.source.id
            type =  data.fmc_network_objects.source.type
        }
    }
    destination_networks {
        destination_network {
            id = data.fmc_network_objects.dest.id
            type =  data.fmc_network_objects.dest.type
        }
    }
    destination_ports {
        destination_port {
            id = data.fmc_port_objects.http.id
            type =  data.fmc_port_objects.http.type
        }
    }
    urls {
        url {
            id = fmc_url_objects.dest_url.id
            type = "Url"
        }
    }
    ips_policy = data.fmc_ips_policies.ips_policy.id
    syslog_config = data.fmc_syslog_alerts.syslog_alert.id
    new_comments = [ "New", "comment" ]
}

resource "fmc_access_rules" "access_rule_2" {
    acp = fmc_access_policies.access_policy.id
    section = "mandatory"
    insert_before = 1 # Wont work as assumed since terraform does not 
    name = "Test rule 2"
    action = "allow"
    enabled = true
    enable_syslog = true
    syslog_severity = "alert"
    send_events_to_fmc = true
    log_files = false
    log_end = true
    source_zones {
        source_zone {
            id = data.fmc_security_zones.inside.id
            type =  data.fmc_security_zones.inside.type
        }
        # source_zone {
        #     id = data.fmc_security_zones.outside.id
        #     type =  data.fmc_security_zones.outside.type
        # }
    }
    destination_zones {
        destination_zone {
            id = data.fmc_security_zones.outside.id
            type =  data.fmc_security_zones.outside.type
        }
    }
    source_networks {
        source_network {
            id = data.fmc_network_objects.source.id
            type =  data.fmc_network_objects.source.type
        }
    }
    destination_networks {
        destination_network {
            id = data.fmc_network_objects.dest.id
            type =  data.fmc_network_objects.dest.type
        }
    }
    destination_ports {
        destination_port {
            id = data.fmc_port_objects.http.id
            type =  data.fmc_port_objects.http.type
        }
    }
    urls {
        url {
            id = fmc_url_objects.dest_url.id
            type = "Url"
        }
    }
    ips_policy = data.fmc_ips_policies.ips_policy.id
    syslog_config = data.fmc_syslog_alerts.syslog_alert.id
    new_comments = [ "New comment" ]
    depends_on = [
        fmc_access_rules.access_rule_1
    ]
}
```
**Note** If creating multiple rules during a single `terraform apply`, remember to use `depends_on` to chain the rules so that terraform creates it in the same order that you intended.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **acp** (String) The ID of the ACP this resource belongs to
- **enabled** (Boolean) Enable the resourceFmc
- **name** (String) The name of the resourceFmc

### Optional

- **action** (String) Action for this resource, "ALLOW", "TRUST", "BLOCK", "MONITOR", "BLOCK_RESET", "BLOCK_INTERACTIVE" or "BLOCK_RESET_INTERACTIVE"
- **category** (String) The Category of the ACP this resource belongs to. Should be created upfront with fmc_access_policies_category resource
- **destination_networks** (Block List, Max: 1) Destination networks for this resource (see [below for nested schema](#nestedblock--destination_networks))
- **destination_ports** (Block List, Max: 1) Destination ports for this resource (see [below for nested schema](#nestedblock--destination_ports))
- **destination_zones** (Block List, Max: 1) Destination zones for this resource (see [below for nested schema](#nestedblock--destination_zones))
- **enable_syslog** (Boolean) Enable syslog for this resource
- **file_policy** (String) File policy for this resource
- **id** (String) The ID of this resource.
- **insert_after** (Number) The rule number after which to insert this resource
- **insert_before** (Number) The rule number before which to insert this resource
- **ips_policy** (String) IPS policy for this resource
- **log_begin** (Boolean) Enable logging at the beginning of connection for this resource
- **log_end** (Boolean) Enable logging at the end of connection for this resource
- **log_files** (Boolean) Enable logging files for this resource
- **new_comments** (List of String) New comments to be added for this resource
- **section** (String) Section for this resource, "mandatory" or "default"
- **send_events_to_fmc** (Boolean) Enable sending events to FMC for this resource
- **source_networks** (Block List, Max: 1) Source networks for this resource (see [below for nested schema](#nestedblock--source_networks))
- **source_ports** (Block List, Max: 1) Source ports for this resource (see [below for nested schema](#nestedblock--source_ports))
- **source_zones** (Block List, Max: 1) Source zones for this resource (see [below for nested schema](#nestedblock--source_zones))
- **syslog_config** (String) Syslog configuration ID for this resource
- **syslog_severity** (String) Syslog severity for this resource, "ALERT", "CRIT", "DEBUG", "EMERG", "ERR", "INFO", "NOTICE" or "WARNING"
- **urls** (Block List, Max: 1) URLs for this resource (see [below for nested schema](#nestedblock--urls))

### Read-Only

- **type** (String) The type of this resource

<a id="nestedblock--destination_networks"></a>
### Nested Schema for `destination_networks`

Required:

- **destination_network** (Block List, Min: 1) (see [below for nested schema](#nestedblock--destination_networks--destination_network))

<a id="nestedblock--destination_networks--destination_network"></a>
### Nested Schema for `destination_networks.destination_network`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource



<a id="nestedblock--destination_ports"></a>
### Nested Schema for `destination_ports`

Required:

- **destination_port** (Block List, Min: 1) (see [below for nested schema](#nestedblock--destination_ports--destination_port))

<a id="nestedblock--destination_ports--destination_port"></a>
### Nested Schema for `destination_ports.destination_port`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource



<a id="nestedblock--destination_zones"></a>
### Nested Schema for `destination_zones`

Required:

- **destination_zone** (Block List, Min: 1) (see [below for nested schema](#nestedblock--destination_zones--destination_zone))

<a id="nestedblock--destination_zones--destination_zone"></a>
### Nested Schema for `destination_zones.destination_zone`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource



<a id="nestedblock--source_networks"></a>
### Nested Schema for `source_networks`

Required:

- **source_network** (Block List, Min: 1) (see [below for nested schema](#nestedblock--source_networks--source_network))

<a id="nestedblock--source_networks--source_network"></a>
### Nested Schema for `source_networks.source_network`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource



<a id="nestedblock--source_ports"></a>
### Nested Schema for `source_ports`

Required:

- **source_port** (Block List, Min: 1) (see [below for nested schema](#nestedblock--source_ports--source_port))

<a id="nestedblock--source_ports--source_port"></a>
### Nested Schema for `source_ports.source_port`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource



<a id="nestedblock--source_zones"></a>
### Nested Schema for `source_zones`

Required:

- **source_zone** (Block List, Min: 1) (see [below for nested schema](#nestedblock--source_zones--source_zone))

<a id="nestedblock--source_zones--source_zone"></a>
### Nested Schema for `source_zones.source_zone`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource



<a id="nestedblock--urls"></a>
### Nested Schema for `urls`

Required:

- **url** (Block List, Min: 1) (see [below for nested schema](#nestedblock--urls--url))

<a id="nestedblock--urls--url"></a>
### Nested Schema for `urls.url`

Required:

- **id** (String) The ID of this resource
- **type** (String) The type of this resource


